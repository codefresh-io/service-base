version: '1.0'
steps:

  install_dependencies:
    title: 'Installing testing dependencies'
    image: node:12.13.0
    commands:
        - yarn install --frozen-lockfile

  eslint:
    title: 'Running linting logic'
    image: node:12.13.0
    commands:
        - yarn eslint

  deploy_to_npm:
    type: npm-publish
    arguments:
      NPM_TOKEN: '${{NPM_TOKEN}}'
      DIR: ./service-base
    when:
      branch:
        only: [ master ]
